@model List<Contract_Monthly_Claim_System.Models.Claim>
@{
    ViewData["Title"] = "Lecturer Dashboard";
}

<div class="container mt-4">
    <h2 class="text-primary">Lecturer Dashboard</h2>
    <p>Summary of your submitted claims. Use 'Submit Claim' to create new claims.</p>

    <h4 class="mt-4">Your Claims</h4>
    <table class="table table-bordered mt-2">
        <thead>
            <tr>
                <th>Claim ID</th>
                <th>Date</th>
                <th>Status</th>
                <th>Amount</th>
                <th>Documents</th>
            </tr>
        </thead>
        <tbody>
            @if (Model == null || !Model.Any())
            {
                <tr><td colspan="5" class="text-center">No claims found.</td></tr>
            }
            else
            {
                foreach (var c in Model)
                {
                    <tr>
                        <td>@c.ClaimId</td>
                        <td>@c.SubmittedAt.ToLocalTime().ToString("yyyy-MM-dd")</td>
                        <td>@c.Status.ToString()</td>
                        <td>R @c.TotalAmount.ToString("F2")</td>
                        <td>
                            @if (c.Documents != null && c.Documents.Count > 0)
                            {
                                foreach (var d in c.Documents)
                                {
                                    <div><a target="_blank" href="@d.FilePath">@d.FileName</a></div>
                                }
                            }
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
